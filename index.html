<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BotestBus - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡∏£‡∏ñ‡∏ó‡∏±‡∏ß‡∏£‡πå</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
        }

        /* ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #87CEEB 0%, #98D8E8 50%, #B0E0E6 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: fadeOut 1s ease-out 2s forwards;
            overflow: hidden;
        }

        .road-container {
            position: absolute;
            bottom: 30%;
            width: 100%;
            height: 120px;
            background: linear-gradient(to bottom, #4a5568 0%, #2d3748 100%);
            overflow: hidden;
        }

        .road-lines {
            position: absolute;
            top: 50%;
            left: 0;
            width: 200%;
            height: 4px;
            background: repeating-linear-gradient(
                to right,
                transparent 0px,
                transparent 30px,
                white 30px,
                white 60px
            );
            transform: translateY(-50%);
            animation: roadMove 2s linear infinite;
        }

        .bus-container {
            position: absolute;
            bottom: 35%;
            left: 50%;
            transform: translateX(-50%);
            animation: busMove 3s ease-in-out infinite;
        }

        .bus {
            width: 80px;
            height: 40px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border-radius: 8px 8px 4px 4px;
            position: relative;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .bus::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 8px;
            right: 8px;
            height: 12px;
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            border-radius: 4px 4px 0 0;
        }

        .bus-windows {
            position: absolute;
            top: -6px;
            left: 12px;
            right: 12px;
            height: 8px;
            background: rgba(255,255,255,0.9);
            border-radius: 2px;
            display: flex;
            gap: 2px;
        }

        .bus-window {
            flex: 1;
            background: #e0f2fe;
            border-radius: 1px;
        }

        .bus-wheels {
            position: absolute;
            bottom: -8px;
            left: 8px;
            right: 8px;
            display: flex;
            justify-content: space-between;
        }

        .wheel {
            width: 16px;
            height: 16px;
            background: #374151;
            border-radius: 50%;
            border: 2px solid #1f2937;
            animation: wheelSpin 0.5s linear infinite;
        }

        .smoke {
            position: absolute;
            right: -10px;
            top: 5px;
            width: 8px;
            height: 8px;
            background: rgba(255,255,255,0.6);
            border-radius: 50%;
            animation: smokeFloat 2s ease-out infinite;
        }

        .smoke:nth-child(2) {
            animation-delay: 0.5s;
            right: -15px;
            top: 8px;
        }

        .smoke:nth-child(3) {
            animation-delay: 1s;
            right: -20px;
            top: 3px;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes roadMove {
            0% {
                transform: translateX(0) translateY(-50%);
            }
            100% {
                transform: translateX(-50%) translateY(-50%);
            }
        }

        @keyframes busMove {
            0%, 100% {
                transform: translateX(-50%) translateY(0px);
            }
            50% {
                transform: translateX(-50%) translateY(-3px);
            }
        }

        @keyframes wheelSpin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes smokeFloat {
            0% {
                opacity: 0.8;
                transform: scale(1) translateY(0);
            }
            100% {
                opacity: 0;
                transform: scale(1.5) translateY(-20px);
            }
        }

        .loading-text {
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 60px;
            animation: pulse 2s ease-in-out infinite;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        /* ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô */
        .step-transition {
            animation: slideInRight 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .step-transition.slide-out {
            animation: slideOutLeft 0.6s cubic-bezier(0.55, 0.06, 0.68, 0.19);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        @keyframes slideOutLeft {
            from {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
            to {
                opacity: 0;
                transform: translateX(-50px) scale(0.95);
            }
        }

        .step-transition.slide-in-left {
            animation: slideInLeft 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö */
        .back-btn {
            position: fixed;
            top: 80px;
            left: 20px;
            z-index: 30;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(59, 130, 246, 0.2);
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: rgba(59, 130, 246, 0.4);
            transform: translateX(-3px);
        }

        .back-btn:active {
            transform: translateX(-3px) scale(0.95);
        }

        .seat {
            width: 45px;
            height: 45px;
            border-radius: 8px;
            border: 2px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
        }

        .seat.available {
            background: #f3f4f6;
            border-color: #9ca3af;
            color: #6b7280;
        }

        .seat.available:hover {
            background: #e5e7eb;
            transform: scale(1.05);
        }

        .seat.selected {
            background: #3b82f6;
            border-color: #1d4ed8;
            color: white;
            transform: scale(1.1);
        }

        .seat.occupied {
            background: #ef4444;
            border-color: #dc2626;
            color: white;
            cursor: not-allowed;
        }

        .custom-modal {
            backdrop-filter: blur(5px);
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .progress-bar {
            transition: width 0.5s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
        }

        .ticket-design {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }

        .ticket-design::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            background-size: 20px 20px;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏´‡∏•‡∏î -->
    <div id="loading-screen" class="loading-screen">
        <!-- ‡∏ñ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏ñ‡∏ö‡∏±‡∏™ -->
        <div class="road-container">
            <div class="road-lines"></div>
        </div>
        
        <div class="bus-container">
            <div class="bus">
                <div class="bus-windows">
                    <div class="bus-window"></div>
                    <div class="bus-window"></div>
                    <div class="bus-window"></div>
                </div>
                <div class="bus-wheels">
                    <div class="wheel"></div>
                    <div class="wheel"></div>
                </div>
                <div class="smoke"></div>
                <div class="smoke"></div>
                <div class="smoke"></div>
            </div>
        </div>
        
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">BotestBus</h1>
            <p class="text-white text-lg opacity-90">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡∏£‡∏ñ‡∏ó‡∏±‡∏ß‡∏£‡πå</p>
        </div>
        
        <div class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏∞‡∏ö‡∏ö...</div>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö -->
    <button id="back-btn" class="back-btn w-12 h-12 rounded-full flex items-center justify-center shadow-lg hidden" onclick="goBack()">
        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
    </button>

    <!-- ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ -->
    <div class="fixed top-0 left-0 w-full bg-white shadow-sm z-40">
        <div class="flex justify-between items-center px-4 py-3">
            <div class="flex items-center space-x-3">
                <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M4 6h16v2H4zm0 5h16v6H4zm2 2h12v2H6z"/>
                </svg>
                <h1 class="text-xl font-bold text-gray-800">BotestBus</h1>
            </div>
            <div class="text-sm text-gray-600">
                <span id="step-text">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</span> <span id="current-step-display">1</span> <span id="of-text">‡∏à‡∏≤‡∏Å</span> 11
            </div>
        </div>
        <div class="w-full bg-gray-200 h-1">
            <div id="progress-bar" class="progress-bar bg-blue-600 h-1" style="width: 9.09%"></div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
    <div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-50 custom-modal hidden z-50 flex items-center justify-center">
        <div class="bg-white rounded-2xl p-6 max-w-md mx-4 shadow-2xl">
            <div id="modal-content"></div>
        </div>
    </div>

    <!-- ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å -->
    <div class="pt-20 pb-8">
        <!-- Step 1: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ã‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á -->
        <div id="step1" class="step-container">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ã‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á</h2>
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="selectOriginZone('north')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üèîÔ∏è</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</div>
                        </button>
                        <button onclick="selectOriginZone('central')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üèôÔ∏è</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á</div>
                        </button>
                        <button onclick="selectOriginZone('northeast')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üåæ</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô</div>
                        </button>
                        <button onclick="selectOriginZone('south')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üèñÔ∏è</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ</div>
                        </button>
                    </div>
                    
                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-blue-50 rounded-xl p-6 border border-blue-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-blue-600 text-xl">üí°</div>
                            <div>
                                <h3 class="text-lg font-semibold text-blue-800 mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                                <ul class="text-blue-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å</li>
                                    <li>‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÇ‡∏ã‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
                                    <li>‚Ä¢ ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏¥‡∏î ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö" ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô‡πÑ‡∏î‡πâ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ -->
        <div id="step2" class="step-container hidden">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ</h2>
                    <div id="pickup-points-list" class="space-y-3">
                        <!-- ‡∏à‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                    </div>
                    
                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-green-50 rounded-xl p-6 border border-green-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-green-600 text-xl">üöå</div>
                            <div>
                                <h3 class="text-lg font-semibold text-green-800 mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h3>
                                <ul class="text-green-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ</li>
                                    <li>‚Ä¢ ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô</li>
                                    <li>‚Ä¢ ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡∏£‡∏ñ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 30 ‡∏ô‡∏≤‡∏ó‡∏µ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ã‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á -->
        <div id="step3" class="step-container hidden">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ã‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</h2>
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="selectDestinationZone('north')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üèîÔ∏è</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</div>
                        </button>
                        <button onclick="selectDestinationZone('central')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üèôÔ∏è</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á</div>
                        </button>
                        <button onclick="selectDestinationZone('northeast')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üåæ</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô</div>
                        </button>
                        <button onclick="selectDestinationZone('south')" class="zone-btn p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-3">üèñÔ∏è</div>
                            <div class="font-semibold">‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ</div>
                        </button>
                    </div>
                    
                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-purple-50 rounded-xl p-6 border border-purple-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-purple-600 text-xl">üéØ</div>
                            <div>
                                <h3 class="text-lg font-semibold text-purple-800 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</h3>
                                <ul class="text-purple-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ</li>
                                    <li>‚Ä¢ ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏à‡∏∏‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</li>
                                    <li>‚Ä¢ ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á -->
        <div id="step4" class="step-container hidden">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</h2>
                    <div id="province-list" class="space-y-3 max-h-96 overflow-y-auto">
                        <!-- ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                    </div>
                    
                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-orange-50 rounded-xl p-6 border border-orange-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-orange-600 text-xl">üìç</div>
                            <div>
                                <h3 class="text-lg font-semibold text-orange-800 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</h3>
                                <ul class="text-orange-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ</li>
                                    <li>‚Ä¢ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏π‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ô‡∏µ‡πâ</li>
                                    <li>‚Ä¢ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Å‡πà‡∏≠‡∏ô</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 5: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß -->
        <div id="step5" class="step-container hidden">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <button onclick="selectTicketType('oneway')" class="p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-2">‚û°Ô∏è</div>
                            <div class="font-semibold mb-2">‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</div>
                            <div class="text-sm text-gray-600">‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</div>
                        </button>
                        <button onclick="selectTicketType('roundtrip')" class="p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all">
                            <div class="text-4xl mb-2">üîÑ</div>
                            <div class="font-semibold mb-2">‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö</div>
                            <div class="text-sm text-gray-600">‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö</div>
                        </button>
                    </div>
                    
                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-indigo-50 rounded-xl p-6 border border-indigo-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-indigo-600 text-xl">üé´</div>
                            <div>
                                <h3 class="text-lg font-semibold text-indigo-800 mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß</h3>
                                <ul class="text-indigo-700 space-y-1 text-sm">
                                    <li>‚Ä¢ <strong>‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß:</strong> ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</li>
                                    <li>‚Ä¢ <strong>‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö:</strong> ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö</li>
                                    <li>‚Ä¢ ‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 6: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á -->
        <div id="step6" class="step-container hidden">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h2>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ</label>
                            <input type="date" id="departure-date" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg">
                        </div>
                        <div id="return-date-section" class="hidden">
                            <label class="block text-sm font-semibold text-gray-700 mb-3">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö</label>
                            <input type="date" id="return-date" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg">
                        </div>
                    </div>
                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-cyan-50 rounded-xl p-6 border border-cyan-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-cyan-600 text-xl">üìÖ</div>
                            <div>
                                <h3 class="text-lg font-semibold text-cyan-800 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h3>
                                <ul class="text-cyan-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</li>
                                    <li>‚Ä¢ ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢</li>
                                    <li>‚Ä¢ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏õ</li>
                                    <li>‚Ä¢ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï‡πÑ‡∏î‡πâ</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 flex justify-center">
                        <button onclick="nextStep()" class="btn-primary text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg">
                            ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 7: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£ -->
        <div id="step7" class="step-container hidden">
            <div class="max-w-6xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h2>
                    
                    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-6 border border-blue-200">
                        <div class="flex items-center justify-center space-x-4">
                            <div class="text-center">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2">
                                    <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                    </svg>
                                </div>
                                <div class="text-sm font-semibold text-gray-700">‡∏à‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ</div>
                                <div class="text-lg font-bold text-blue-800" id="pickup-display">‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï</div>
                            </div>
                            
                            <div class="flex-1 flex items-center justify-center">
                                <div class="flex items-center space-x-2">
                                    <div class="w-8 h-0.5 bg-blue-400"></div>
                                    <svg class="w-8 h-8 text-blue-500" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M4 4h16c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2h-1c0 1.1-.9 2-2 2s-2-.9-2-2H9c0 1.1-.9 2-2 2s-2-.9-2-2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2zm0 2v3h16V6H4zm0 5v3h16v-3H4zm3 5c.6 0 1-.4 1-1s-.4-1-1-1-1 .4-1 1 .4 1 1 1zm10 0c.6 0 1-.4 1-1s-.4-1-1-1-1 .4-1 1 .4 1 1 1z"/>
                                    </svg>
                                    <div class="w-8 h-0.5 bg-blue-400"></div>
                                </div>
                            </div>
                            
                            <div class="text-center">
                                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2">
                                    <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                    </svg>
                                </div>
                                <div class="text-sm font-semibold text-gray-700">‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</div>
                                <div class="text-lg font-bold text-green-800" id="destination-display">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£ -->
                    <div class="bg-blue-50 rounded-xl p-6 mb-6 border border-blue-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <h3 class="text-lg font-semibold text-blue-800 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</h3>
                                <p class="text-sm text-blue-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£ (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 4 ‡∏Ñ‡∏ô)</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <button onclick="changePassengerCount(-1)" class="w-12 h-12 bg-white border-2 border-blue-300 rounded-full flex items-center justify-center hover:bg-blue-100 transition-colors shadow-sm">
                                    <span class="text-xl font-bold text-blue-600">-</span>
                                </button>
                                <div class="text-2xl font-bold px-6 py-3 bg-white border-2 border-blue-300 rounded-xl min-w-16 text-center text-blue-800 shadow-sm" id="passenger-count">1</div>
                                <button onclick="changePassengerCount(1)" class="w-12 h-12 bg-white border-2 border-blue-300 rounded-full flex items-center justify-center hover:bg-blue-100 transition-colors shadow-sm">
                                    <span class="text-xl font-bold text-blue-600">+</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Layout ‡πÅ‡∏ö‡∏ö 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ã‡πâ‡∏≤‡∏¢: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤ -->
                        <div class="lg:col-span-2">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                                <svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á
                            </h3>
                            <div id="time-slots" class="space-y-3 max-h-96 overflow-y-auto pr-2">
                                <!-- ‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                            </div>
                        </div>
                        
                        <!-- ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ç‡∏ß‡∏≤: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô -->
                        <div class="lg:col-span-1">
                            <div class="sticky top-4">
                                <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
                                <div class="bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200 mb-6">
                                    <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                                    </h4>
                                    
                                    <div id="selection-summary" class="space-y-3 text-sm">
                                        <div class="flex justify-between items-center py-2 border-b border-blue-200">
                                            <span class="text-gray-600">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á:</span>
                                            <span class="font-semibold text-gray-800" id="route-summary">‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï ‚Üí ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</span>
                                        </div>
                                        <div class="flex justify-between items-center py-2 border-b border-blue-200">
                                            <span class="text-gray-600">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</span>
                                            <span class="font-semibold text-gray-800" id="date-summary">-</span>
                                        </div>
                                        <div class="flex justify-between items-center py-2 border-b border-blue-200">
                                            <span class="text-gray-600">‡πÄ‡∏ß‡∏•‡∏≤:</span>
                                            <span class="font-semibold text-gray-800" id="time-summary">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
                                        </div>
                                        <div class="flex justify-between items-center py-2 border-b border-blue-200">
                                            <span class="text-gray-600">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:</span>
                                            <span class="font-semibold text-gray-800" id="company-summary">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
                                        </div>
                                        <div class="flex justify-between items-center py-2 border-b border-blue-200">
                                            <span class="text-gray-600">‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£:</span>
                                            <span class="font-semibold text-gray-800" id="passenger-summary">1 ‡∏Ñ‡∏ô</span>
                                        </div>
                                        <div class="flex justify-between items-center py-3 bg-white rounded-lg px-3 mt-4">
                                            <span class="text-lg font-semibold text-gray-800">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°:</span>
                                            <span class="text-xl font-bold text-green-600" id="price-summary">‡∏ø0</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ -->
                                <button onclick="nextStep()" id="continue-step7" class="w-full btn-primary text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg opacity-50 cursor-not-allowed transition-all" disabled>
                                    <div class="flex items-center justify-center space-x-2">
                                        <span>‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                                        </svg>
                                    </div>
                                </button>

                                <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                                <div class="mt-6 bg-yellow-50 rounded-xl p-4 border border-yellow-200">
                                    <div class="flex items-start space-x-3">
                                        <div class="text-yellow-600 text-lg">üí°</div>
                                        <div>
                                            <h5 class="font-semibold text-yellow-800 mb-2">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h5>
                                            <ul class="text-yellow-700 space-y-1 text-xs">
                                                <li>‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</li>
                                                <li>‚Ä¢ ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</li>
                                                <li>‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ß‡πà‡∏≤‡∏á</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 8: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á -->
        <div id="step8" class="step-container hidden">
            <div class="max-w-4xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</h2>
                    <p class="text-center text-gray-600 mb-6">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <span id="required-seats">1</span> ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á | ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: <span id="selected-seats-display" class="font-semibold text-blue-600">‡πÑ‡∏°‡πà‡∏°‡∏µ</span></p>
                    
                    <div class="bg-gradient-to-b from-gray-100 to-gray-200 p-8 rounded-2xl border-2 border-gray-300 mb-6 max-w-md mx-auto">
                        <!-- Driver Area -->
                        <div class="text-center mb-6">
                            <div class="inline-block bg-gray-800 text-white px-6 py-3 rounded-lg text-sm font-semibold shadow-lg">
                                üöó ‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö
                            </div>
                        </div>
                        
                        <!-- Zone Labels -->
                        <div class="text-center mb-4">
                            <div class="inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-lg text-sm font-semibold">
                                üéØ ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (1-30)
                            </div>
                        </div>
                        
                        <!-- All Seats -->
                        <div id="front-seats" class="mb-8">
                            <!-- All seats will be generated here -->
                        </div>
                        
                        <!-- Hidden back seats section -->
                        <div id="back-seats" class="hidden">
                            <!-- Not used -->
                        </div>
                    </div>

                    <div class="flex justify-center items-center flex-wrap gap-6 mb-6 text-sm">
                        <div class="flex items-center">
                            <div class="seat available w-6 h-6 mr-2"></div>
                            <span>‡∏ß‡πà‡∏≤‡∏á</span>
                        </div>
                        <div class="flex items-center">
                            <div class="seat selected w-6 h-6 mr-2"></div>
                            <span>‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
                        </div>
                        <div class="flex items-center">
                            <div class="seat occupied w-6 h-6 mr-2"></div>
                            <span>‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á</span>
                        </div>
                    </div>

                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-pink-50 rounded-xl p-6 border border-pink-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-pink-600 text-xl">üí∫</div>
                            <div>
                                <h3 class="text-lg font-semibold text-pink-800 mb-2">‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</h3>
                                <ul class="text-pink-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ = ‡∏ß‡πà‡∏≤‡∏á, ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô = ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß, ‡∏™‡∏µ‡πÅ‡∏î‡∏á = ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á)</li>
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</li>
                                    <li>‚Ä¢ ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏Å‡∏ß‡πà‡∏≤</li>
                                    <li>‚Ä¢ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏•‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-center">
                        <button onclick="nextStep()" id="confirm-seats-btn" class="btn-primary text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg opacity-50 cursor-not-allowed" disabled>
                            ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 9: ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£ -->
        <div id="step9" class="step-container hidden">
            <div class="max-w-4xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</h2>
                    
                    <div id="passenger-forms" class="space-y-6">
                        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                    </div>

                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-cyan-50 rounded-xl p-6 border border-cyan-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-cyan-600 text-xl">üìÖ</div>
                            <div>
                                <h3 class="text-lg font-semibold text-cyan-800 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h3>
                                <ul class="text-cyan-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</li>
                                    <li>‚Ä¢ ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢</li>
                                    <li>‚Ä¢ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏õ</li>
                                    <li>‚Ä¢ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï‡πÑ‡∏î‡πâ</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 flex justify-center">
                        <button onclick="nextStep()" class="btn-primary text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg">
                            ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 10: ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
        <div id="step10" class="step-container hidden">
            <div class="max-w-2xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-xl p-8 step-transition">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
                    
                    <div class="text-center mb-6">
                        <div class="text-3xl font-bold text-green-600 mb-2" id="total-amount">‡∏ø0</div>
                        <p class="text-gray-600">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                    </div>

                    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-6 border border-blue-200">
                        <h3 class="text-base font-semibold mb-3 text-center text-blue-800">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</h3>
                        
                        <div class="bg-white rounded-lg p-3 border border-blue-200 shadow-sm">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center space-x-2">
                                    <div class="w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center">
                                        <span class="text-white font-bold text-sm">SCB</span>
                                    </div>
                                    <div>
                                        <div class="text-sm font-bold text-gray-800">‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå</div>
                                        <div class="text-xs text-gray-600">‡∏≠‡∏≠‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="space-y-1">
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-gray-600">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:</span>
                                    <span class="font-semibold text-sm text-gray-800">‡∏ô‡∏≤‡∏¢ ‡∏†‡∏±‡∏ó‡∏£‡∏û‡∏• ‡∏ó‡∏≠‡∏á‡∏®‡∏£‡∏µ</span>
                                </div>
                                
                                <div class="flex justify-between items-center bg-gray-50 rounded-lg p-2 border border-dashed border-gray-300 hover:border-blue-400 transition-colors cursor-pointer" onclick="copyAccountNumber()">
                                    <div>
                                        <span class="text-xs text-gray-600">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:</span>
                                        <span class="font-bold text-lg text-blue-600 ml-2" id="account-number">4400533990</span>
                                    </div>
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                        </svg>
                                        <span class="text-xs text-blue-600 font-medium">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-3 bg-yellow-50 rounded-lg p-2 border border-yellow-200">
                            <div class="flex items-start space-x-2">
                                <svg class="w-4 h-4 text-yellow-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <div class="text-xs text-yellow-800">
                                    <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-6 mb-6">
                        <h3 class="text-lg font-semibold mb-4 text-center">‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
                        <div class="flex justify-center mb-4">
                            <img src="https://png.pngtree.com/png-clipart/20190903/original/pngtree-cartoon-green-environmental-qr-code-design-png-image_4429145.jpg" 
                                 alt="QR Code" class="w-48 h-48 rounded-lg border">
                        </div>
                        <p class="text-sm text-gray-600 text-center">‡∏™‡πÅ‡∏Å‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏≠‡∏õ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-700 mb-3">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label>
                        <input type="file" id="payment-slip" accept="image/*" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors">
                    </div>

                    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
                    <div class="mt-8 bg-emerald-50 rounded-xl p-6 border border-emerald-200">
                        <div class="flex items-start space-x-3">
                            <div class="text-emerald-600 text-xl">üí≥</div>
                            <div>
                                <h3 class="text-lg font-semibold text-emerald-800 mb-2">‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
                                <ul class="text-emerald-700 space-y-1 text-sm">
                                    <li>‚Ä¢ ‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏≠‡∏õ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
                                    <li>‚Ä¢ ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á</li>
                                    <li>‚Ä¢ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</li>
                                    <li>‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-center">
                        <button onclick="confirmPayment()" id="confirm-payment-btn" class="btn-primary text-white px-8 py-4 rounded-xl font-semibold text-lg shadow-lg opacity-50 cursor-not-allowed" disabled>
                            ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 11: ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à -->
        <div id="step11" class="step-container hidden">
            <div class="max-w-4xl mx-auto px-4">
                <div class="bg-white rounded-2xl shadow-2xl overflow-hidden step-transition">
                    <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à -->
                    <div id="header-section" class="bg-gradient-to-r from-blue-500 to-indigo-600 p-8 text-center text-white relative overflow-hidden transition-all duration-1000">
                        <div class="absolute inset-0 bg-black bg-opacity-10"></div>
                        <div class="relative z-10">
                            <!-- Loading Animation (initially shown) -->
                            <div id="loading-animation" class="w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
                                <!-- Magnifying Glass Animation -->
                                <div id="magnifying-glass" class="relative">
                                    <!-- Glass circle -->
                                    <div class="w-8 h-8 border-3 border-white rounded-full relative animate-pulse">
                                        <!-- Handle -->
                                        <div class="absolute -bottom-2 -right-2 w-4 h-1 bg-white rounded-full transform rotate-45 origin-left"></div>
                                        <!-- Searching dots inside -->
                                        <div class="absolute inset-0 flex items-center justify-center">
                                            <div class="flex space-x-1">
                                                <div class="w-1 h-1 bg-white rounded-full animate-bounce" style="animation-delay: 0s;"></div>
                                                <div class="w-1 h-1 bg-white rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                                                <div class="w-1 h-1 bg-white rounded-full animate-bounce" style="animation-delay: 0.4s;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Success Icon (initially hidden) -->
                            <div id="success-icon" class="w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4 hidden">
                                <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                            </div>
                            
                            <!-- Loading Text -->
                            <div id="loading-text" class="text-2xl font-bold mb-2">
                                <span id="loading-message">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
                                <span class="inline-flex ml-1">
                                    <span class="animate-bounce">.</span>
                                    <span class="animate-bounce" style="animation-delay: 0.2s;">.</span>
                                    <span class="animate-bounce" style="animation-delay: 0.4s;">.</span>
                                </span>
                            </div>
                            
                            <!-- Success Content (initially hidden) -->
                            <div id="success-content" class="hidden">
                                <h2 class="text-3xl font-bold mb-2">‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
                                <p class="text-lg opacity-90">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ BotestBus</p>
                            </div>
                        </div>
                    </div>

                    <!-- ‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ -->
                    <div id="ticket-content" class="relative bg-white">
                        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß -->
                        <div class="bg-blue-600 p-6 text-white text-center">
                            <div class="flex items-center justify-center space-x-3 mb-4">
                                <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M4 6h16v2H4zm0 5h16v6H4zm2 2h12v2H6z"/>
                                </svg>
                                <h3 class="text-3xl font-bold">BotestBus</h3>
                            </div>
                            <p class="text-lg">‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</p>
                            <div class="mt-4 text-2xl font-bold tracking-wider" id="booking-number">BUS001234</div>
                        </div>

                        <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à -->
                        <div class="p-8">
                            <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á -->
                            <div class="mb-8">
                                <!-- ‡∏Ç‡∏≤‡πÑ‡∏õ -->
                                <div class="text-center mb-6">
                                    <div class="inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                                        üöå ‡∏Ç‡∏≤‡πÑ‡∏õ
                                    </div>
                                    <div class="text-2xl font-bold text-gray-800 mb-4" id="route-display">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø ‚Üí ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</div>
                                    <div class="flex items-center justify-center space-x-4 text-lg text-gray-600">
                                        <div class="flex items-center space-x-2">
                                            <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 9l6-6m0 0l6 6m-6-6v12"/>
                                            </svg>
                                            <span id="travel-date-display">25 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2567</span>
                                        </div>
                                        <div class="text-gray-400">|</div>
                                        <div class="flex items-center space-x-2">
                                            <span id="travel-time-display">08:30</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö) -->
                                <div id="return-trip-info" class="hidden text-center mt-6 pt-6 border-t border-gray-300">
                                    <div class="inline-block bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                                        üîÑ ‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö
                                    </div>
                                    <div class="text-xl font-bold text-gray-800 mb-4" id="return-route-display">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø</div>
                                    <div class="flex items-center justify-center space-x-4 text-lg text-gray-600">
                                        <div class="flex items-center space-x-2">
                                            <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 9l6-6m0 0l6 6m-6-6v12"/>
                                            </svg>
                                            <span id="return-date-display">28 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2567</span>
                                        </div>
                                        <div class="text-gray-400">|</div>
                                        <div class="flex items-center space-x-2">
                                            <span id="return-time-display">08:30</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£ -->
                            <div class="mb-8">
                                <h4 class="text-xl font-bold text-gray-800 mb-4 text-center">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</h4>
                                <div id="passengers-display" class="space-y-3">
                                    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                                </div>
                            </div>

                            <!-- Summary -->
                            <div class="border-t-2 border-gray-300 pt-6 mb-6">
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-lg font-semibold">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏£‡∏ñ:</span>
                                    <span class="text-lg font-bold" id="company-display">‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå</span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-lg font-semibold">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á:</span>
                                    <span class="text-xl font-bold text-blue-600" id="seats-display">12, 13</span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-lg font-semibold">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß:</span>
                                    <span class="text-lg font-bold" id="ticket-type-display">‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</span>
                                </div>
                                <div class="flex justify-between items-center text-2xl font-bold text-green-600 border-t-2 border-gray-200 pt-4">
                                    <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</span>
                                    <span id="total-display">‡∏ø960</span>
                                </div>
                            </div>

                            <!-- QR Code -->
                            <div class="text-center bg-gray-50 rounded-xl p-6">
                                <div class="w-32 h-32 bg-white border-2 border-gray-300 rounded-lg mx-auto mb-4 flex items-center justify-center">
                                    <svg class="w-20 h-20 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M3 3h6v6H3V3zm2 2v2h2V5H5zM3 15h6v6H3v-6zm2 2v2h2v-2H5zM15 3h6v6h-6V3zm2 2v2h2V5h-2zM15 15h2v2h-2v-2zM17 17h2v2h-2v-2zM19 15h2v2h-2v-2zM15 17h2v2h-2v-2zM17 19h2v2h-2v-2zM19 17h2v2h-2v-2z"/>
                                    </svg>
                                </div>
                                <p class="text-sm text-gray-600">QR Code ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ</p>
                            </div>

                            <!-- Footer -->
                            <div class="text-center mt-8 pt-6 border-t border-gray-200">
                                <p class="text-sm text-gray-600 mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠: <span id="booking-date">20 ‡∏ò.‡∏Ñ. 2567</span></p>
                                <p class="text-xs text-gray-500">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ</p>
                                <p class="text-xs text-gray-400 mt-2">‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÇ‡∏ó‡∏£ 02-123-4567</p>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="bg-gray-50 p-6 border-t">
                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <button onclick="saveTicketImage()" class="flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏±‡πã‡∏ß</span>
                            </button>
                            <button onclick="resetBooking()" class="flex items-center justify-center space-x-2 bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-xl font-semibold transition-all hover:shadow-lg transform hover:-translate-y-1">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                                <span>‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = window.__firebase_config || {
            apiKey: "demo-key",
            authDomain: "demo.firebaseapp.com",
            projectId: "demo-project",
            storageBucket: "demo.appspot.com",
            messagingSenderId: "123456789",
            appId: "demo-app-id"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // Global Variables
        let currentStep = 1;
        let currentLanguage = 'th';
        let bookingData = {
            originZone: '',
            pickupPoint: '',
            destinationZone: '',
            destinationProvince: '',
            ticketType: '',
            departureDate: '',
            returnDate: '',
            selectedTime: '',
            selectedCompany: '',
            passengerCount: 1,
            selectedSeats: [],
            passengerInfo: [],
            totalAmount: 0
        };

        let seatListener = null;
        let selectedTimeSlot = null;

        // Language translations
        const translations = {
            th: {
                // Header
                step: '‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô',
                of: '‡∏à‡∏≤‡∏Å',
                
                // Step 1
                selectOriginZone: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ã‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á',
                north: '‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠',
                central: '‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á',
                northeast: '‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô',
                south: '‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ',
                howToUse: '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                selectRegion: '‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å',
                clickZone: '‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÇ‡∏ã‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥',
                backButton: '‚Ä¢ ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏¥‡∏î ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö" ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô‡πÑ‡∏î‡πâ',
                
                // Step 2
                selectPickupPoint: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ',
                importantInfo: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç',
                selectStation: '‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ',
                differentPrices: '‚Ä¢ ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô',
                arriveEarly: '‚Ä¢ ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡∏£‡∏ñ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 30 ‡∏ô‡∏≤‡∏ó‡∏µ',
                
                // Step 3
                selectDestinationZone: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ã‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á',
                selectDestination: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢',
                selectDestRegion: '‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ',
                distancePrice: '‚Ä¢ ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏à‡∏∏‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á',
                crossRegion: '‚Ä¢ ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤',
                
                // Step 4
                selectDestinationProvince: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á',
                selectProvince: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î',
                selectDestProv: '‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ',
                scrollProvinces: '‚Ä¢ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏π‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ô‡∏µ‡πâ',
                popularFirst: '‚Ä¢ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Å‡πà‡∏≠‡∏ô',
                
                // Step 5
                selectTicketType: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß',
                oneWay: '‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß',
                oneWayDesc: '‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß',
                roundTrip: '‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö',
                roundTripDesc: '‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö',
                ticketTypes: '‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß',
                oneWayInfo: '‚Ä¢ ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß: ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô',
                roundTripInfo: '‚Ä¢ ‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö: ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö',
                returnDateRequired: '‚Ä¢ ‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ',
                
                // Step 6
                selectTravelDate: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                departureDate: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ',
                returnDate: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö',
                selectDate: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                selectTravelDay: '‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                roundTripDate: '‚Ä¢ ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢',
                returnAfterDeparture: '‚Ä¢ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏õ',
                noPastDate: '‚Ä¢ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï‡πÑ‡∏î‡πâ',
                continue: '‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠',
                
                // Step 7
                selectTravelTime: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                pickupPoint: '‡∏à‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ',
                destination: '‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢',
                passengerCount: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£',
                selectPassengerCount: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£ (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 4 ‡∏Ñ‡∏ô)',
                selectTime: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                selectionSummary: '‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å',
                route: '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á:',
                date: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:',
                time: '‡πÄ‡∏ß‡∏•‡∏≤:',
                company: '‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:',
                passengers: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£:',
                totalPrice: '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°:',
                notSelected: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å',
                people: '‡∏Ñ‡∏ô',
                tips: '‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥',
                clickSelectTime: '‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£',
                priceVaries: '‚Ä¢ ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó',
                checkSeats: '‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ß‡πà‡∏≤‡∏á',
                perPerson: '‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô',
                seats: '‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                
                // Step 8
                selectSeats: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                selectSeatsCount: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å',
                selectedSeats: '‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:',
                none: '‡πÑ‡∏°‡πà‡∏°‡∏µ',
                driver: '‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö',
                allSeats: '‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (1-30)',
                available: '‡∏ß‡πà‡∏≤‡∏á',
                selected: '‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å',
                occupied: '‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á',
                seatSelection: '‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                seatInstructions: '‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ = ‡∏ß‡πà‡∏≤‡∏á, ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô = ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß, ‡∏™‡∏µ‡πÅ‡∏î‡∏á = ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á)',
                selectAllSeats: '‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£',
                frontBack: '‚Ä¢ ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏Å‡∏ß‡πà‡∏≤',
                canChange: '‚Ä¢ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏•‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà',
                confirmSeats: '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                
                // Step 9
                passengerInfo: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£',
                passenger: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà',
                seat: '‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                firstName: '‡∏ä‡∏∑‡πà‡∏≠',
                lastName: '‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•',
                phone: '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå',
                
                // Step 10
                payment: '‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                totalAmount: '‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
                bankInfo: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô',
                scbBank: '‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå',
                savings: '‡∏≠‡∏≠‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå',
                accountName: '‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:',
                accountNumber: '‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:',
                clickToCopy: '‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å',
                note: '‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:',
                transferNote: '‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                qrPayment: '‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                scanQR: '‡∏™‡πÅ‡∏Å‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏≠‡∏õ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì',
                uploadSlip: '‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô',
                paymentInfo: '‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                scanQRApp: '‚Ä¢ ‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏≠‡∏õ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì',
                transferAmount: '‚Ä¢ ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á',
                uploadSlipConfirm: '‚Ä¢ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô',
                systemVerify: '‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                confirmPayment: '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                copied: '‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß!',
                
                // Step 11
                bookingSuccess: '‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                thankYou: '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ BotestBus',
                receipt: '‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô',
                passengerList: '‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£',
                busCompany: '‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏£‡∏ñ:',
                ticketType: '‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡πã‡∏ß:',
                total: '‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:',
                qrCode: 'QR Code ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ',
                purchaseDate: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠:',
                showReceipt: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ',
                contactInfo: '‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÇ‡∏ó‡∏£ 02-123-4567',
                saveTicket: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏±‡πã‡∏ß',
                buyNew: '‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà',
                
                // Alerts
                selectDepartureDate: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                selectReturnDate: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö',
                returnAfterDepartureAlert: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ',
                selectTravelTimeAlert: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                selectSeatsAlert: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                maxSeatsAlert: '‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î',
                fillPassengerInfo: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà',
                completeInfo: '‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô',
                phoneFormat: '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà',
                phoneDigits: '‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 10 ‡∏´‡∏•‡∏±‡∏Å',
                paymentSuccess: '‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                paymentError: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                saveImageSuccess: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏±‡πã‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                saveImageError: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û',
                resetBooking: '‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?',
                cannotCopy: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á'
            },
            en: {
                // Header
                step: 'Step',
                of: 'of',
                
                // Step 1
                selectOriginZone: 'Select Origin Zone',
                north: 'North',
                central: 'Central',
                northeast: 'Northeast',
                south: 'South',
                howToUse: 'How to Use',
                selectRegion: '‚Ä¢ Select the region you want to depart from',
                clickZone: '‚Ä¢ Click on the desired zone, system will proceed automatically',
                backButton: '‚Ä¢ If wrong selection, use "Back" button at top left',
                
                // Step 2
                selectPickupPoint: 'Select Pickup Point',
                importantInfo: 'Important Information',
                selectStation: '‚Ä¢ Choose the bus terminal convenient for you',
                differentPrices: '‚Ä¢ Each station may have different departure times and prices',
                arriveEarly: '‚Ä¢ Arrive at station at least 30 minutes before departure',
                
                // Step 3
                selectDestinationZone: 'Select Destination Zone',
                selectDestination: 'Select Destination',
                selectDestRegion: '‚Ä¢ Choose the region you want to travel to',
                distancePrice: '‚Ä¢ Distance and price depend on origin and destination',
                crossRegion: '‚Ä¢ Cross-region routes take longer time',
                
                // Step 4
                selectDestinationProvince: 'Select Destination Province',
                selectProvince: 'Select Province',
                selectDestProv: '‚Ä¢ Choose the province you want to travel to',
                scrollProvinces: '‚Ä¢ Scroll to see all provinces in this region',
                popularFirst: '‚Ä¢ Popular provinces are shown first',
                
                // Step 5
                selectTicketType: 'Select Ticket Type',
                oneWay: 'One Way',
                oneWayDesc: 'Travel in one direction only',
                roundTrip: 'Round Trip',
                roundTripDesc: 'Travel both ways',
                ticketTypes: 'Ticket Types',
                oneWayInfo: '‚Ä¢ One Way: Suitable for one-way travel only',
                roundTripInfo: '‚Ä¢ Round Trip: More economical and convenient for return travel',
                returnDateRequired: '‚Ä¢ Round trip tickets require return date selection in next step',
                
                // Step 6
                selectTravelDate: 'Select Travel Date',
                departureDate: 'Departure Date',
                returnDate: 'Return Date',
                selectDate: 'Select Travel Date',
                selectTravelDay: '‚Ä¢ Choose your desired travel date',
                roundTripDate: '‚Ä¢ For round trip, return date is also required',
                returnAfterDeparture: '‚Ä¢ Return date must be after departure date',
                noPastDate: '‚Ä¢ Cannot select past dates',
                continue: 'Continue',
                
                // Step 7
                selectTravelTime: 'Select Travel Time',
                pickupPoint: 'Pickup Point',
                destination: 'Destination',
                passengerCount: 'Number of Passengers',
                selectPassengerCount: 'Select number of passengers (max 4)',
                selectTime: 'Select Travel Time',
                selectionSummary: 'Selection Summary',
                route: 'Route:',
                date: 'Date:',
                time: 'Time:',
                company: 'Company:',
                passengers: 'Passengers:',
                totalPrice: 'Total Price:',
                notSelected: 'Not Selected',
                people: 'people',
                tips: 'Tips',
                clickSelectTime: '‚Ä¢ Click to select time and company',
                priceVaries: '‚Ä¢ Prices vary by time and company',
                checkSeats: '‚Ä¢ Check available seats',
                perPerson: 'per person',
                seats: 'seats',
                
                // Step 8
                selectSeats: 'Select Seats',
                selectSeatsCount: 'Select',
                selectedSeats: 'Selected Seats:',
                none: 'None',
                driver: 'Driver',
                allSeats: 'All Seats (1-30)',
                available: 'Available',
                selected: 'Selected',
                occupied: 'Occupied',
                seatSelection: 'Seat Selection',
                seatInstructions: '‚Ä¢ Click desired seats (Gray = Available, Blue = Selected, Red = Occupied)',
                selectAllSeats: '‚Ä¢ Select seats according to passenger count',
                frontBack: '‚Ä¢ Front seats near driver, back seats quieter',
                canChange: '‚Ä¢ Can change seats by clicking again',
                confirmSeats: 'Confirm Seats',
                
                // Step 9
                passengerInfo: 'Passenger Information',
                passenger: 'Passenger',
                seat: 'Seat',
                firstName: 'First Name',
                lastName: 'Last Name',
                phone: 'Phone Number',
                
                // Step 10
                payment: 'Payment',
                totalAmount: 'Total Amount',
                bankInfo: 'Bank Account Information for Transfer',
                scbBank: 'Siam Commercial Bank',
                savings: 'Savings',
                accountName: 'Account Name:',
                accountNumber: 'Account Number:',
                clickToCopy: 'Click to Copy',
                note: 'Note:',
                transferNote: 'Transfer the amount shown above and upload transfer slip to confirm payment',
                qrPayment: 'Or scan QR Code to pay',
                scanQR: 'Scan with your banking app',
                uploadSlip: 'Upload Transfer Slip',
                paymentInfo: 'Payment Information',
                scanQRApp: '‚Ä¢ Scan QR Code with your banking app',
                transferAmount: '‚Ä¢ Transfer the displayed amount',
                uploadSlipConfirm: '‚Ä¢ Upload transfer slip for confirmation',
                systemVerify: '‚Ä¢ System will verify and confirm payment',
                confirmPayment: 'Confirm Payment',
                copied: 'Copied!',
                
                // Step 11
                bookingSuccess: 'Booking Successful!',
                thankYou: 'Thank you for using BotestBus',
                receipt: 'Receipt',
                passengerList: 'Passenger List',
                busCompany: 'Bus Company:',
                ticketType: 'Ticket Type:',
                total: 'Total:',
                qrCode: 'QR Code for Boarding',
                purchaseDate: 'Purchase Date:',
                showReceipt: 'Please show this receipt when boarding',
                contactInfo: 'For inquiries, call 02-123-4567',
                saveTicket: 'Save Ticket',
                buyNew: 'Buy New',
                
                // Alerts
                selectDepartureDate: 'Please select departure date',
                selectReturnDate: 'Please select return date',
                returnAfterDepartureAlert: 'Return date must be after departure date',
                selectTravelTimeAlert: 'Please select travel time',
                selectSeatsAlert: 'Please select seats',
                maxSeatsAlert: 'Maximum selectable seats:',
                fillPassengerInfo: 'Please complete passenger information for passenger',
                completeInfo: 'completely',
                phoneFormat: 'Phone number for passenger',
                phoneDigits: 'must be 10 digits',
                paymentSuccess: 'Payment successful!',
                paymentError: 'Payment confirmation error',
                saveImageSuccess: 'Ticket image saved successfully!',
                saveImageError: 'Error saving image',
                resetBooking: 'Do you want to start a new booking?',
                cannotCopy: 'Cannot copy automatically, please copy manually'
            }
        };

        // Pickup Points Data
        const pickupPoints = {
            north: [
                { id: 'chiangmai_arcade', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏≤‡πÄ‡∏Ç‡∏ï', city: '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà' },
                { id: 'chiangrai_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢', city: '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢' },
                { id: 'lampang_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏•‡∏≥‡∏õ‡∏≤‡∏á', city: '‡∏•‡∏≥‡∏õ‡∏≤‡∏á' },
                { id: 'phrae_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÅ‡∏û‡∏£‡πà', city: '‡πÅ‡∏û‡∏£‡πà' }
            ],
            central: [
                { id: 'mochit', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï', city: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£' },
                { id: 'ekkamai', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏°‡∏±‡∏¢', city: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£' },
                { id: 'sai_tai_mai', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÉ‡∏´‡∏°‡πà', city: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£' },
                { id: 'kanchanaburi_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ', city: '‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ' }
            ],
            northeast: [
                { id: 'korat_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤', city: '‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤' },
                { id: 'khonkaen_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô', city: '‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô' },
                { id: 'udon_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ', city: '‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ' },
                { id: 'ubon_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ', city: '‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ' }
            ],
            south: [
                { id: 'surat_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ', city: '‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ' },
                { id: 'phuket_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï', city: '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï' },
                { id: 'hatyai_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà', city: '‡∏™‡∏á‡∏Ç‡∏•‡∏≤' },
                { id: 'nakhon_terminal', name: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä', city: '‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä' }
            ]
        };

        // Province Data
        const provinces = {
            north: ['‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà', '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢', '‡∏•‡∏≥‡∏õ‡∏≤‡∏á', '‡∏•‡∏≥‡∏û‡∏π‡∏ô', '‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô', '‡∏ô‡πà‡∏≤‡∏ô', '‡∏û‡∏∞‡πÄ‡∏¢‡∏≤', '‡πÅ‡∏û‡∏£‡πà', '‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢', '‡∏ï‡∏≤‡∏Å', '‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå', '‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£', '‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå', '‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£', '‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å', '‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå', '‡πÄ‡∏•‡∏¢', '‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢', '‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π'],
            central: ['‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£', '‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ', '‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£', '‡∏ô‡∏Ñ‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°', '‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ', '‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ', '‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ', '‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å', '‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤', '‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ', '‡∏™‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß', '‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ', '‡∏ï‡∏£‡∏≤‡∏î', '‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ', '‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå'],
            northeast: ['‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤', '‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå', '‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå', '‡∏®‡∏¥‡∏•‡∏≤‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå', '‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏¢‡πÇ‡∏™‡∏ò‡∏£', '‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥', '‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç', '‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π', '‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô', '‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ', '‡πÄ‡∏•‡∏¢', '‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢', '‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨', '‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£', '‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°', '‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£', '‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î', '‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå', '‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°'],
            south: ['‡∏ä‡∏∏‡∏°‡∏û‡∏£', '‡∏£‡∏∞‡∏ô‡∏≠‡∏á', '‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏û‡∏±‡∏á‡∏á‡∏≤', '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï', '‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà', '‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä', '‡∏ï‡∏£‡∏±‡∏á', '‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á', '‡∏™‡∏á‡∏Ç‡∏•‡∏≤', '‡∏™‡∏ï‡∏π‡∏•', '‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ', '‡∏¢‡∏∞‡∏•‡∏≤', '‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™']
        };

        // Time slots with multiple companies
        const timeSlots = [
            { 
                time: '06:00', 
                companies: [
                    { name: '‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/nca.png', price: 450, available: 15, rating: 4.7, class: 'Gold Class', duration: '8‡∏ä‡∏°. 30‡∏°.' },
                    { name: '‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/sombat.png', price: 420, available: 12, rating: 4.5, class: 'VIP Class', duration: '8‡∏ä‡∏°. 45‡∏°.' }
                ]
            },
            { 
                time: '08:30', 
                companies: [
                    { name: '‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/nca.png', price: 480, available: 8, rating: 4.7, class: 'Gold Class', duration: '8‡∏ä‡∏°. 30‡∏°.' },
                    { name: '‡πÄ‡∏ä‡∏¥‡∏î‡∏ä‡∏±‡∏¢‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/cherdchai.png', price: 460, available: 18, rating: 4.6, class: 'Premium', duration: '8‡∏ä‡∏°. 15‡∏°.' },
                    { name: '‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/sombat.png', price: 440, available: 10, rating: 4.5, class: 'VIP Class', duration: '8‡∏ä‡∏°. 45‡∏°.' }
                ]
            },
            { 
                time: '11:00', 
                companies: [
                    { name: '‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/nca.png', price: 520, available: 6, rating: 4.7, class: 'Gold Class', duration: '8‡∏ä‡∏°. 30‡∏°.' },
                    { name: '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/phuket.png', price: 500, available: 14, rating: 4.4, class: 'Super VIP', duration: '8‡∏ä‡∏°. 00‡∏°.' }
                ]
            },
            { 
                time: '14:30', 
                companies: [
                    { name: '‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/nca.png', price: 500, available: 12, rating: 4.7, class: 'Gold Class', duration: '8‡∏ä‡∏°. 30‡∏°.' },
                    { name: '‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/sombat.png', price: 480, available: 20, rating: 4.5, class: 'VIP Class', duration: '8‡∏ä‡∏°. 45‡∏°.' },
                    { name: '‡πÄ‡∏ä‡∏¥‡∏î‡∏ä‡∏±‡∏¢‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/cherdchai.png', price: 490, available: 8, rating: 4.6, class: 'Premium', duration: '8‡∏ä‡∏°. 15‡∏°.' }
                ]
            },
            { 
                time: '17:00', 
                companies: [
                    { name: '‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/nca.png', price: 550, available: 4, rating: 4.7, class: 'Gold Class', duration: '8‡∏ä‡∏°. 30‡∏°.' },
                    { name: '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/phuket.png', price: 530, available: 16, rating: 4.4, class: 'Super VIP', duration: '8‡∏ä‡∏°. 00‡∏°.' }
                ]
            },
            { 
                time: '20:30', 
                companies: [
                    { name: '‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/sombat.png', price: 480, available: 18, rating: 4.5, class: 'VIP Class', duration: '8‡∏ä‡∏°. 45‡∏°.' },
                    { name: '‡πÄ‡∏ä‡∏¥‡∏î‡∏ä‡∏±‡∏¢‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/cherdchai.png', price: 470, available: 22, rating: 4.6, class: 'Premium', duration: '8‡∏ä‡∏°. 15‡∏°.' }
                ]
            },
            { 
                time: '23:00', 
                companies: [
                    { name: '‡∏ô‡∏Ñ‡∏£‡∏ä‡∏±‡∏¢‡πÅ‡∏≠‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/nca.png', price: 450, available: 25, rating: 4.7, class: 'Gold Class', duration: '8‡∏ä‡∏°. 30‡∏°.' },
                    { name: '‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ß‡∏£‡πå', logo: 'https://cdn.buson.me/resource/company_logo/sombat.png', price: 430, available: 15, rating: 4.5, class: 'VIP Class', duration: '8‡∏ä‡∏°. 45‡∏°.' }
                ]
            }
        ];

        // Initialize Authentication
        async function initAuth() {
            try {
                // Use offline mode for demo purposes
                console.log('Running in demo mode - Firebase authentication skipped');
                return true;
            } catch (error) {
                console.error('Authentication failed:', error);
                return false;
            }
        }

        // Helper function to get pickup point name
        function getPickupPointName(pickupPointId) {
            if (!pickupPointId || !bookingData.originZone) return '‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï';
            
            const points = pickupPoints[bookingData.originZone] || [];
            const point = points.find(p => p.id === pickupPointId);
            return point ? point.name : '‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï';
        }

        // Custom Alert Functions
        function showCustomAlert(message, type = 'info') {
            const modal = document.getElementById('custom-modal');
            const content = document.getElementById('modal-content');
            
            const icons = {
                info: '‚ÑπÔ∏è',
                success: '‚úÖ',
                warning: '‚ö†Ô∏è',
                error: '‚ùå'
            };

            content.innerHTML = `
                <div class="text-center">
                    <div class="text-4xl mb-4">${icons[type]}</div>
                    <p class="text-lg mb-6">${message}</p>
                    <button onclick="closeCustomModal()" class="btn-primary text-white px-6 py-2 rounded-lg">
                        ‡∏ï‡∏Å‡∏•‡∏á
                    </button>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }

        function showCustomConfirm(message, onConfirm) {
            const modal = document.getElementById('custom-modal');
            const content = document.getElementById('modal-content');
            
            content.innerHTML = `
                <div class="text-center">
                    <div class="text-4xl mb-4">‚ùì</div>
                    <p class="text-lg mb-6">${message}</p>
                    <div class="flex gap-4 justify-center">
                        <button onclick="closeCustomModal()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                        </button>
                        <button onclick="confirmAction()" class="btn-primary text-white px-6 py-2 rounded-lg">
                            ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                        </button>
                    </div>
                </div>
            `;
            
            window.confirmCallback = onConfirm;
            modal.classList.remove('hidden');
        }

        function confirmAction() {
            if (window.confirmCallback) {
                window.confirmCallback();
                window.confirmCallback = null;
            }
            closeCustomModal();
        }

        function closeCustomModal() {
            document.getElementById('custom-modal').classList.add('hidden');
        }

        // Step Management
        let isTransitioning = false;

        function updateProgress() {
            const progress = (currentStep / 11) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('current-step-display').textContent = currentStep;
            
            // Show/hide back button
            const backBtn = document.getElementById('back-btn');
            if (currentStep > 1) {
                backBtn.classList.remove('hidden');
            } else {
                backBtn.classList.add('hidden');
            }
        }

        function showStep(step, direction = 'forward') {
            if (isTransitioning) return;
            isTransitioning = true;

            const currentStepElement = document.getElementById(`step${currentStep}`);
            const targetStepElement = document.getElementById(`step${step}`);

            // Add exit animation to current step
            if (currentStepElement && !currentStepElement.classList.contains('hidden')) {
                currentStepElement.classList.add('slide-out');
                
                setTimeout(() => {
                    // Hide all steps
                    for (let i = 1; i <= 11; i++) {
                        const stepEl = document.getElementById(`step${i}`);
                        stepEl.classList.add('hidden');
                        stepEl.classList.remove('slide-out', 'slide-in-left', 'step-transition');
                    }
                    
                    // Show target step with appropriate animation
                    if (targetStepElement) {
                        targetStepElement.classList.remove('hidden');
                        if (direction === 'backward') {
                            targetStepElement.classList.add('slide-in-left');
                        } else {
                            targetStepElement.classList.add('step-transition');
                        }
                    }
                    
                    currentStep = step;
                    updateProgress();
                    isTransitioning = false;
                }, 300);
            } else {
                // First time showing (no current step)
                for (let i = 1; i <= 11; i++) {
                    document.getElementById(`step${i}`).classList.add('hidden');
                }
                
                if (targetStepElement) {
                    targetStepElement.classList.remove('hidden');
                    targetStepElement.classList.add('step-transition');
                }
                
                currentStep = step;
                updateProgress();
                isTransitioning = false;
            }
        }

        function goBack() {
            if (currentStep > 1 && !isTransitioning) {
                const previousStep = currentStep - 1;
                
                // Clean up seat listener if going back from seat selection
                if (currentStep === 8 && seatListener) {
                    seatListener();
                    seatListener = null;
                }
                
                showStep(previousStep, 'backward');
                
                // Re-initialize step if needed
                setTimeout(() => {
                    if (previousStep === 2) {
                        loadPickupPoints();
                    } else if (previousStep === 4) {
                        loadProvinces();
                    } else if (previousStep === 6) {
                        setupDateInputs();
                    } else if (previousStep === 7) {
                        loadTimeSlots();
                    } else if (previousStep === 8) {
                        generateSeatMap();
                        listenToSeatChanges();
                    } else if (previousStep === 9) {
                        generatePassengerForms();
                    } else if (previousStep === 10) {
                        calculateTotal();
                        setupPaymentUpload();
                    }
                }, 400);
            }
        }

        function nextStep() {
            if (validateCurrentStep()) {
                currentStep++;
                if (currentStep <= 11) {
                    showStep(currentStep);
                    
                    // Special handling for certain steps
                    if (currentStep === 2) {
                        loadPickupPoints();
                    } else if (currentStep === 4) {
                        loadProvinces();
                    } else if (currentStep === 6) {
                        setupDateInputs();
                    } else if (currentStep === 7) {
                        loadTimeSlots();
                    } else if (currentStep === 8) {
                        generateSeatMap();
                        listenToSeatChanges();
                    } else if (currentStep === 9) {
                        generatePassengerForms();
                    } else if (currentStep === 10) {
                        calculateTotal();
                        setupPaymentUpload();
                    } else if (currentStep === 11) {
                        generateTicket();
                    }
                }
            }
        }

        function validateCurrentStep() {
            switch (currentStep) {
                case 6:
                    const departureDate = document.getElementById('departure-date').value;
                    if (!departureDate) {
                        showCustomAlert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á', 'warning');
                        return false;
                    }
                    
                    if (bookingData.ticketType === 'roundtrip') {
                        const returnDate = document.getElementById('return-date').value;
                        if (!returnDate) {
                            showCustomAlert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö', 'warning');
                            return false;
                        }
                        if (new Date(returnDate) <= new Date(departureDate)) {
                            showCustomAlert('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ', 'warning');
                            return false;
                        }
                    }
                    
                    bookingData.departureDate = departureDate;
                    if (bookingData.ticketType === 'roundtrip') {
                        bookingData.returnDate = document.getElementById('return-date').value;
                    }
                    break;
                    
                case 7:
                    if (!bookingData.selectedTime) {
                        showCustomAlert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á', 'warning');
                        return false;
                    }
                    break;
                    
                case 8:
                    if (bookingData.selectedSeats.length !== bookingData.passengerCount) {
                        showCustomAlert(`‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á ${bookingData.passengerCount} ‡∏ó‡∏µ‡πà`, 'warning');
                        return false;
                    }
                    break;
                    
                case 9:
                    if (!validatePassengerForms()) {
                        return false;
                    }
                    break;
            }
            return true;
        }

        // Step Functions
        function selectOriginZone(zone) {
            if (isTransitioning) return;
            bookingData.originZone = zone;
            highlightSelection(event.target);
            setTimeout(() => nextStep(), 600);
        }

        function loadPickupPoints() {
            const pickupPointsList = document.getElementById('pickup-points-list');
            const points = pickupPoints[bookingData.originZone] || [];
            
            pickupPointsList.innerHTML = points.map(point => `
                <button onclick="selectPickupPoint('${point.id}')" class="w-full p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-left">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M4 6h16v2H4zm0 5h16v6H4zm2 2h12v2H6z"/>
                            </svg>
                        </div>
                        <div>
                            <div class="font-semibold">${point.name}</div>
                            <div class="text-sm text-gray-600">${point.city}</div>
                        </div>
                    </div>
                </button>
            `).join('');
        }

        function selectPickupPoint(point) {
            if (isTransitioning) return;
            bookingData.pickupPoint = point;
            highlightSelection(event.target);
            setTimeout(() => nextStep(), 600);
        }

        function selectDestinationZone(zone) {
            if (isTransitioning) return;
            bookingData.destinationZone = zone;
            highlightSelection(event.target);
            setTimeout(() => nextStep(), 600);
        }

        function selectProvince(province) {
            if (isTransitioning) return;
            bookingData.destinationProvince = province;
            highlightSelection(event.target);
            setTimeout(() => nextStep(), 600);
        }

        function selectTicketType(type) {
            if (isTransitioning) return;
            bookingData.ticketType = type;
            highlightSelection(event.target);
            setTimeout(() => nextStep(), 600);
        }

        function highlightSelection(element) {
            // ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
            element.parentElement.querySelectorAll('.border-blue-500').forEach(el => {
                el.classList.remove('border-blue-500', 'bg-blue-50');
            });
            
            // ‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            element.classList.add('border-blue-500', 'bg-blue-50');
        }

        function loadProvinces() {
            const provinceList = document.getElementById('province-list');
            const provinceArray = provinces[bookingData.destinationZone] || [];
            
            provinceList.innerHTML = provinceArray.map(province => `
                <button onclick="selectProvince('${province}')" class="w-full p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-left">
                    <div class="font-semibold">${province}</div>
                </button>
            `).join('');
        }

        function setupDateInputs() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('departure-date').setAttribute('min', today);
            
            if (bookingData.ticketType === 'roundtrip') {
                document.getElementById('return-date-section').classList.remove('hidden');
                document.getElementById('return-date').setAttribute('min', today);
            }
        }

        function loadTimeSlots() {
            const timeSlotsContainer = document.getElementById('time-slots');
            
            // Update summary with current data
            updateSelectionSummary();
            
            let slotsHTML = '';
            
            timeSlots.forEach(timeSlot => {
                slotsHTML += `
                    <div class="mb-4">
                        <button onclick="selectTimeSlot('${timeSlot.time}')" class="time-slot-btn w-full bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-500 hover:shadow-md transition-all cursor-pointer text-left">
                            <div class="flex justify-between items-center">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="text-xl font-bold text-gray-800">${timeSlot.time}</div>
                                        <div class="text-sm text-gray-500">${timeSlot.companies.length} ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-lg font-bold text-green-600">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏ø${Math.min(...timeSlot.companies.map(c => c.price))}</div>
                                    <div class="text-xs text-gray-500">‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô</div>
                                </div>
                            </div>
                        </button>
                        
                        <!-- Companies list (initially hidden) -->
                        <div id="companies-${timeSlot.time.replace(':', '')}" class="companies-list hidden mt-3 ml-4 space-y-2">
                `;
                
                timeSlot.companies.forEach(company => {
                    slotsHTML += `
                        <div onclick="selectCompany('${timeSlot.time}', ${company.price}, '${company.name}')" class="company-option bg-gray-50 border-2 border-gray-200 rounded-lg p-4 hover:border-blue-500 hover:bg-blue-50 transition-all cursor-pointer">
                            <!-- Header -->
                            <div class="flex justify-between items-center mb-3">
                                <div class="flex items-center space-x-3">
                                    <img src="${company.logo}" alt="${company.name}" class="w-10 h-10 rounded-lg object-cover" onerror="this.src=''; this.alt='${company.name}'; this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg items-center justify-center hidden">
                                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M4 6h16v2H4zm0 5h16v6H4zm2 2h12v2H6z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-gray-800">${company.name}</div>
                                        <div class="text-xs text-gray-500">${company.class}</div>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-xl font-bold text-green-600">‡∏ø${company.price}</div>
                                    <div class="text-xs text-gray-500">‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô</div>
                                </div>
                            </div>
                            
                            <!-- Info Row -->
                            <div class="flex justify-between items-center text-sm">
                                <div class="flex items-center space-x-4">
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                                        <span class="text-gray-600">${company.rating}</span>
                                    </div>
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        </svg>
                                        <span class="text-gray-800 font-bold">${company.available} ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</span>
                                    </div>
                                </div>
                                <div class="text-gray-500">${company.duration}</div>
                            </div>
                        </div>
                    `;
                });
                
                slotsHTML += `
                        </div>
                    </div>
                `;
            });
            
            timeSlotsContainer.innerHTML = slotsHTML;
        }

        function updateSelectionSummary() {
            // Get pickup point name
            const pickupPointName = getPickupPointName(bookingData.pickupPoint);
            
            // Update route
            const routeSummary = document.getElementById('route-summary');
            if (routeSummary) {
                routeSummary.textContent = `${pickupPointName} ‚Üí ${bookingData.destinationProvince || '‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á'}`;
            }
            
            // Update main route display
            const pickupDisplay = document.getElementById('pickup-display');
            const destinationDisplay = document.getElementById('destination-display');
            if (pickupDisplay) {
                pickupDisplay.textContent = pickupPointName;
            }
            if (destinationDisplay) {
                destinationDisplay.textContent = bookingData.destinationProvince || '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà';
            }
            
            // Update travel date info
            const travelDateInfo = document.getElementById('travel-date-info');
            if (travelDateInfo && bookingData.departureDate) {
                travelDateInfo.textContent = new Date(bookingData.departureDate).toLocaleDateString('th-TH');
            }
            
            // Update ticket type info
            const ticketTypeInfo = document.getElementById('ticket-type-info');
            if (ticketTypeInfo) {
                ticketTypeInfo.textContent = bookingData.ticketType === 'roundtrip' ? '‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö' : '‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß';
            }
            
            // Update passenger count info
            const passengerCountInfo = document.getElementById('passenger-count-info');
            if (passengerCountInfo) {
                passengerCountInfo.textContent = `${bookingData.passengerCount} ‡∏Ñ‡∏ô`;
            }
            
            // Update date
            const dateSummary = document.getElementById('date-summary');
            if (dateSummary && bookingData.departureDate) {
                dateSummary.textContent = new Date(bookingData.departureDate).toLocaleDateString('th-TH');
            }
            
            // Update passenger count
            const passengerSummary = document.getElementById('passenger-summary');
            if (passengerSummary) {
                passengerSummary.textContent = `${bookingData.passengerCount} ‡∏Ñ‡∏ô`;
            }
        }

        function selectTimeSlot(time) {
            // Hide all company lists first
            document.querySelectorAll('.companies-list').forEach(list => {
                list.classList.add('hidden');
            });
            
            // Remove selection from all time slot buttons
            document.querySelectorAll('.time-slot-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'bg-blue-50');
            });
            
            // Highlight selected time slot
            event.target.classList.add('border-blue-500', 'bg-blue-50');
            
            // Show companies for selected time
            const companiesId = `companies-${time.replace(':', '')}`;
            const companiesList = document.getElementById(companiesId);
            if (companiesList) {
                companiesList.classList.remove('hidden');
                
                // Scroll to companies list smoothly
                setTimeout(() => {
                    companiesList.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'nearest' 
                    });
                }, 100);
            }
            
            selectedTimeSlot = time;
            
            // Reset company selection
            bookingData.selectedTime = '';
            bookingData.selectedCompany = '';
            bookingData.basePrice = 0;
            
            // Update summary
            document.getElementById('time-summary').textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å';
            document.getElementById('company-summary').textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å';
            document.getElementById('price-summary').textContent = '‡∏ø0';
            
            // Disable continue button
            const continueBtn = document.getElementById('continue-step7');
            continueBtn.disabled = true;
            continueBtn.classList.add('opacity-50', 'cursor-not-allowed');
        }

        function selectCompany(time, price, companyName) {
            bookingData.selectedTime = time;
            bookingData.basePrice = price;
            bookingData.selectedCompany = companyName;
            
            // Remove selection from all company options
            document.querySelectorAll('.company-option').forEach(option => {
                option.classList.remove('border-blue-500', 'bg-blue-50');
            });
            
            // Highlight selected company
            event.target.classList.add('border-blue-500', 'bg-blue-50');
            
            // Update summary
            document.getElementById('time-summary').textContent = time;
            document.getElementById('company-summary').textContent = companyName;
            
            // Calculate and update price
            const totalPrice = price * bookingData.passengerCount * (bookingData.ticketType === 'roundtrip' ? 2 : 1);
            document.getElementById('price-summary').textContent = `‡∏ø${totalPrice.toLocaleString()}`;
            
            // Enable continue button
            const continueBtn = document.getElementById('continue-step7');
            continueBtn.disabled = false;
            continueBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        }

        function changePassengerCount(delta) {
            const newCount = bookingData.passengerCount + delta;
            if (newCount >= 1 && newCount <= 4) {
                bookingData.passengerCount = newCount;
                document.getElementById('passenger-count').textContent = newCount;
                
                // Update summary
                const passengerSummary = document.getElementById('passenger-summary');
                if (passengerSummary) {
                    passengerSummary.textContent = `${newCount} ‡∏Ñ‡∏ô`;
                }
                
                // Update passenger count info in route display
                const passengerCountInfo = document.getElementById('passenger-count-info');
                if (passengerCountInfo) {
                    passengerCountInfo.textContent = `${newCount} ‡∏Ñ‡∏ô`;
                }
                
                // Update price if time slot is selected
                if (bookingData.basePrice) {
                    const totalPrice = bookingData.basePrice * newCount * (bookingData.ticketType === 'roundtrip' ? 2 : 1);
                    const priceSummary = document.getElementById('price-summary');
                    if (priceSummary) {
                        priceSummary.textContent = `‡∏ø${totalPrice.toLocaleString()}`;
                    }
                }
            }
        }

        // Seat Management
        async function generateSeatMap() {
            const frontSeats = document.getElementById('front-seats');
            const backSeats = document.getElementById('back-seats');
            
            document.getElementById('required-seats').textContent = bookingData.passengerCount;
            
            // Generate front zone seats (1-15)
            let frontHTML = '';
            for (let row = 0; row < 8; row++) {
                frontHTML += '<div class="flex justify-between items-center mb-3">';
                
                // Left side seats (2 seats)
                const leftSeat1 = (row * 2) + 1;
                const leftSeat2 = (row * 2) + 2;
                
                // Only generate if seat number <= 15
                if (leftSeat1 <= 15) {
                    frontHTML += `
                        <div class="flex space-x-3">
                            <div class="seat available" data-seat="${leftSeat1}" onclick="toggleSeat(${leftSeat1})">${leftSeat1}</div>
                            ${leftSeat2 <= 15 ? `<div class="seat available" data-seat="${leftSeat2}" onclick="toggleSeat(${leftSeat2})">${leftSeat2}</div>` : '<div class="w-11"></div>'}
                        </div>
                    `;
                } else {
                    frontHTML += '<div class="flex space-x-3"><div class="w-11"></div><div class="w-11"></div></div>';
                }
                
                // Aisle space
                frontHTML += '<div class="w-16 flex items-center justify-center text-xs text-gray-500 font-medium">‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô</div>';
                
                // Right side seats (2 seats)
                const rightSeat1 = 16 + (row * 2);
                const rightSeat2 = rightSeat1 + 1;
                
                // Only generate if seat number <= 30
                if (rightSeat1 <= 30) {
                    frontHTML += `
                        <div class="flex space-x-3">
                            <div class="seat available" data-seat="${rightSeat1}" onclick="toggleSeat(${rightSeat1})">${rightSeat1}</div>
                            ${rightSeat2 <= 30 ? `<div class="seat available" data-seat="${rightSeat2}" onclick="toggleSeat(${rightSeat2})">${rightSeat2}</div>` : '<div class="w-11"></div>'}
                        </div>
                    `;
                } else {
                    frontHTML += '<div class="flex space-x-3"><div class="w-11"></div><div class="w-11"></div></div>';
                }
                
                frontHTML += '</div>';
            }
            
            frontSeats.innerHTML = frontHTML;
            
            // Hide back seats section since we only have 30 seats
            backSeats.innerHTML = '';
            
            // Load occupied seats from Firebase
            await loadOccupiedSeats();
        }

        async function loadOccupiedSeats() {
            try {
                // Simulate some occupied seats for demo (adjusted for 30 seats)
                const demoOccupiedSeats = [3, 7, 12, 18, 25, 28];
                
                demoOccupiedSeats.forEach(seatNumber => {
                    const seatElement = document.querySelector(`[data-seat="${seatNumber}"]`);
                    if (seatElement) {
                        seatElement.classList.remove('available');
                        seatElement.classList.add('occupied');
                    }
                });
                
                console.log('Demo occupied seats loaded');
            } catch (error) {
                console.error('Error loading occupied seats:', error);
            }
        }

        function listenToSeatChanges() {
            // Demo mode - no real-time updates needed
            console.log('Demo mode - real-time seat updates disabled');
        }

        function toggleSeat(seatNumber) {
            const seatElement = document.querySelector(`[data-seat="${seatNumber}"]`);
            
            if (seatElement.classList.contains('occupied')) {
                return;
            }

            const isSelected = seatElement.classList.contains('selected');
            const maxSeats = bookingData.passengerCount;

            if (isSelected) {
                seatElement.classList.remove('selected');
                seatElement.classList.add('available');
                bookingData.selectedSeats = bookingData.selectedSeats.filter(seat => seat !== seatNumber);
            } else {
                if (bookingData.selectedSeats.length < maxSeats) {
                    seatElement.classList.remove('available');
                    seatElement.classList.add('selected');
                    bookingData.selectedSeats.push(seatNumber);
                } else {
                    showCustomAlert(`‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${maxSeats} ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á`, 'warning');
                    return;
                }
            }

            updateSeatDisplay();
        }

        function updateSeatDisplay() {
            const display = document.getElementById('selected-seats-display');
            const confirmBtn = document.getElementById('confirm-seats-btn');
            
            if (bookingData.selectedSeats.length === 0) {
                display.textContent = '‡πÑ‡∏°‡πà‡∏°‡∏µ';
                display.className = 'font-semibold text-gray-500';
            } else {
                display.textContent = bookingData.selectedSeats.sort((a, b) => a - b).join(', ');
                display.className = 'font-semibold text-blue-600';
            }

            if (bookingData.selectedSeats.length === bookingData.passengerCount) {
                confirmBtn.disabled = false;
                confirmBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                confirmBtn.disabled = true;
                confirmBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        async function updateSeatsInFirebase() {
            try {
                // Demo mode - simulate successful seat update
                console.log('Demo mode - seats updated locally:', bookingData.selectedSeats);
                
                // Mark selected seats as occupied in the UI
                bookingData.selectedSeats.forEach(seatNumber => {
                    const seatElement = document.querySelector(`[data-seat="${seatNumber}"]`);
                    if (seatElement) {
                        seatElement.classList.remove('available', 'selected');
                        seatElement.classList.add('occupied');
                    }
                });
                
                return true;
            } catch (error) {
                console.error('Error updating seats:', error);
                return false;
            }
        }

        // Passenger Forms
        function generatePassengerForms() {
            const formsContainer = document.getElementById('passenger-forms');
            let formsHTML = '';

            for (let i = 0; i < bookingData.passengerCount; i++) {
                formsHTML += `
                    <div class="bg-gray-50 rounded-xl p-6 border">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà ${i + 1} (‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á ${bookingData.selectedSeats[i]})</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠</label>
                                <input type="text" id="fname-${i}" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors" placeholder="‡∏ä‡∏∑‡πà‡∏≠" required>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                                <input type="text" id="lname-${i}" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required>
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-semibold text-gray-700 mb-2">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                                <input type="tel" id="phone-${i}" maxlength="10" pattern="[0-9]{10}" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors" placeholder="0812345678" oninput="this.value = this.value.replace(/[^0-9]/g, '')" required>
                            </div>
                        </div>
                    </div>
                `;
            }

            formsContainer.innerHTML = formsHTML;
        }

        function validatePassengerForms() {
            bookingData.passengerInfo = [];
            
            for (let i = 0; i < bookingData.passengerCount; i++) {
                const fname = document.getElementById(`fname-${i}`).value;
                const lname = document.getElementById(`lname-${i}`).value;
                const phone = document.getElementById(`phone-${i}`).value;

                if (!fname || !lname || !phone) {
                    showCustomAlert(`‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà ${i + 1} ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô`, 'warning');
                    return false;
                }

                if (phone.length !== 10 || !/^\d+$/.test(phone)) {
                    showCustomAlert(`‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà ${i + 1} ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 10 ‡∏´‡∏•‡∏±‡∏Å`, 'warning');
                    return false;
                }

                bookingData.passengerInfo.push({
                    firstName: fname,
                    lastName: lname,
                    phone: phone,
                    seat: bookingData.selectedSeats[i]
                });
            }
            return true;
        }

        // Payment
        function calculateTotal() {
            const baseAmount = bookingData.basePrice * bookingData.passengerCount;
            const multiplier = bookingData.ticketType === 'roundtrip' ? 2 : 1;
            bookingData.totalAmount = baseAmount * multiplier;
            
            document.getElementById('total-amount').textContent = `‡∏ø${bookingData.totalAmount.toLocaleString()}`;
        }

        function setupPaymentUpload() {
            const fileInput = document.getElementById('payment-slip');
            const confirmBtn = document.getElementById('confirm-payment-btn');
            
            fileInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    confirmBtn.disabled = false;
                    confirmBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    confirmBtn.disabled = true;
                    confirmBtn.classList.add('opacity-50', 'cursor-not-allowed');
                }
            });
        }

        async function confirmPayment() {
            try {
                // Update seats in Firebase
                await updateSeatsInFirebase();
                
                // Generate ticket number
                bookingData.bookingNumber = 'BUS' + Date.now().toString().substr(-6);
                bookingData.bookingDate = new Date().toLocaleDateString('th-TH');
                
                showCustomAlert('‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
                setTimeout(() => {
                    closeCustomModal();
                    nextStep();
                }, 2000);
            } catch (error) {
                console.error('Payment confirmation error:', error);
                showCustomAlert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô', 'error');
            }
        }

        // Success Animation
        function showSuccessAnimation() {
            // Phase 1: Show loading animation (0-3 seconds)
            const loadingMessages = [
                '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
                '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡πã‡∏ß'
            ];
            
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                if (messageIndex < loadingMessages.length) {
                    document.getElementById('loading-message').textContent = loadingMessages[messageIndex];
                    messageIndex++;
                } else {
                    clearInterval(messageInterval);
                }
            }, 1000);
            
            // Phase 2: Transition to success (after 3 seconds)
            setTimeout(() => {
                // Change header background color to success green
                const headerSection = document.getElementById('header-section');
                headerSection.className = 'bg-gradient-to-r from-emerald-400 to-green-500 p-8 text-center text-white relative overflow-hidden transition-all duration-1000';
                
                // Hide loading animation
                document.getElementById('loading-animation').style.transition = 'opacity 0.5s ease-out, transform 0.5s ease-out';
                document.getElementById('loading-animation').style.opacity = '0';
                document.getElementById('loading-animation').style.transform = 'scale(0.8)';
                
                document.getElementById('loading-text').style.transition = 'opacity 0.5s ease-out';
                document.getElementById('loading-text').style.opacity = '0';
                
                setTimeout(() => {
                    // Hide loading elements completely
                    document.getElementById('loading-animation').classList.add('hidden');
                    document.getElementById('loading-text').classList.add('hidden');
                    
                    // Show success icon with animation
                    const successIcon = document.getElementById('success-icon');
                    successIcon.classList.remove('hidden');
                    successIcon.style.opacity = '0';
                    successIcon.style.transform = 'scale(0.5)';
                    successIcon.style.transition = 'opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                    
                    setTimeout(() => {
                        successIcon.style.opacity = '1';
                        successIcon.style.transform = 'scale(1)';
                    }, 50);
                    
                    // Show success content
                    const successContent = document.getElementById('success-content');
                    successContent.classList.remove('hidden');
                    successContent.style.opacity = '0';
                    successContent.style.transform = 'translateY(20px)';
                    successContent.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                    
                    setTimeout(() => {
                        successContent.style.opacity = '1';
                        successContent.style.transform = 'translateY(0)';
                    }, 300);
                    
                }, 500);
            }, 3000);
        }

        // Helper function to format date in Thai
        function formatThaiDate(dateString) {
            const date = new Date(dateString);
            const thaiMonths = [
                '‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°', '‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå', '‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°', '‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô', '‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°', '‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô',
                '‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°', '‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°', '‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô', '‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°', '‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô', '‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°'
            ];
            
            const day = date.getDate();
            const month = thaiMonths[date.getMonth()];
            const year = date.getFullYear() + 543; // Convert to Buddhist Era
            
            return `${day} ${month} ${year}`;
        }

        // Helper function to get time icon
        function getTimeIcon(timeString) {
            const hour = parseInt(timeString.split(':')[0]);
            
            if (hour >= 6 && hour < 12) {
                return 'üåÖ'; // Morning
            } else if (hour >= 12 && hour < 18) {
                return '‚òÄÔ∏è'; // Afternoon
            } else if (hour >= 18 && hour < 21) {
                return 'üåÜ'; // Evening
            } else {
                return 'üåô'; // Night
            }
        }

        // Ticket Generation
        function generateTicket() {
            // Show success animation
            showSuccessAnimation();
            
            // Set booking details
            document.getElementById('booking-number').textContent = bookingData.bookingNumber;
            document.getElementById('booking-date').textContent = bookingData.bookingDate;
            
            // Route display
            const zoneNames = {
                north: '‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠',
                central: '‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á',
                northeast: '‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô',
                south: '‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ'
            };
            
            document.getElementById('route-display').textContent = 
                `‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï ‚Üí ${bookingData.destinationProvince}`;
            
            // Format date and set time icon
            document.getElementById('travel-date-display').textContent = 
                formatThaiDate(bookingData.departureDate);
            
            document.getElementById('travel-time-display').textContent = bookingData.selectedTime;
            document.getElementById('seats-display').textContent = bookingData.selectedSeats.join(', ');
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö
            if (bookingData.ticketType === 'roundtrip') {
                const returnTripInfo = document.getElementById('return-trip-info');
                returnTripInfo.classList.remove('hidden');
                
                document.getElementById('return-route-display').textContent = 
                    `${bookingData.destinationProvince} ‚Üí ‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï`;
                
                document.getElementById('return-date-display').textContent = 
                    formatThaiDate(bookingData.returnDate);
                
                document.getElementById('return-time-display').textContent = bookingData.selectedTime;
            }
            
            // Set company name
            document.getElementById('company-display').textContent = bookingData.selectedCompany;
            
            // Set total amount and ticket type
            document.getElementById('total-display').textContent = `‡∏ø${bookingData.totalAmount.toLocaleString()}`;
            document.getElementById('ticket-type-display').textContent = bookingData.ticketType === 'roundtrip' ? '‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö' : '‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß';
            
            // Passengers display
            const passengersContainer = document.getElementById('passengers-display');
            
            passengersContainer.innerHTML = bookingData.passengerInfo.map((passenger, index) => `
                <div class="bg-gray-50 rounded-lg p-4 border">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="text-lg font-bold text-gray-800">${passenger.firstName} ${passenger.lastName}</div>
                            <div class="text-sm text-gray-600">‡πÇ‡∏ó‡∏£: ${passenger.phone.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3')}</div>
                        </div>
                        <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-lg font-bold">
                            ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á ${passenger.seat}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function saveTicketImage() {
            const ticketElement = document.getElementById('ticket-content');
            
            html2canvas(ticketElement, {
                backgroundColor: null,
                scale: 2,
                logging: false
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `BotestBus_Ticket_${bookingData.bookingNumber}.png`;
                link.href = canvas.toDataURL();
                link.click();
                
                showCustomAlert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏±‡πã‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
            }).catch(error => {
                console.error('Error saving ticket image:', error);
                showCustomAlert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', 'error');
            });
        }

        function resetBooking() {
            showCustomConfirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?', () => {
                // Clean up seat listener
                if (seatListener) {
                    seatListener();
                    seatListener = null;
                }
                
                // Reset all data
                currentStep = 1;
                bookingData = {
                    originZone: '',
                    pickupPoint: '',
                    destinationZone: '',
                    destinationProvince: '',
                    ticketType: '',
                    departureDate: '',
                    returnDate: '',
                    selectedTime: '',
                    selectedCompany: '',
                    passengerCount: 1,
                    selectedSeats: [],
                    passengerInfo: [],
                    totalAmount: 0
                };
                
                // Reset passenger count display
                document.getElementById('passenger-count').textContent = '1';
                
                showStep(1);
            });
        }

        // Language Functions
        function toggleLanguageMenu() {
            const menu = document.getElementById('language-menu');
            menu.classList.toggle('hidden');
        }

        function changeLanguage(lang) {
            currentLanguage = lang;
            document.getElementById('current-language').textContent = lang === 'th' ? '‡πÑ‡∏ó‡∏¢' : 'English';
            document.getElementById('language-menu').classList.add('hidden');
            
            // Update all text elements
            updateLanguage();
        }

        function updateLanguage() {
            const t = translations[currentLanguage];
            
            // Update header
            document.getElementById('step-text').textContent = t.step;
            document.getElementById('of-text').textContent = t.of;
            
            // Update current step content based on currentStep
            updateStepContent();
        }

        function updateStepContent() {
            const t = translations[currentLanguage];
            
            // Update step 1
            const step1Title = document.querySelector('#step1 h2');
            if (step1Title) step1Title.textContent = t.selectOriginZone;
            
            const zoneButtons = document.querySelectorAll('#step1 .zone-btn .font-semibold');
            if (zoneButtons.length >= 4) {
                zoneButtons[0].textContent = t.north;
                zoneButtons[1].textContent = t.central;
                zoneButtons[2].textContent = t.northeast;
                zoneButtons[3].textContent = t.south;
            }
            
            // Update step 2
            const step2Title = document.querySelector('#step2 h2');
            if (step2Title) step2Title.textContent = t.selectPickupPoint;
            
            // Update step 3
            const step3Title = document.querySelector('#step3 h2');
            if (step3Title) step3Title.textContent = t.selectDestinationZone;
            
            const step3ZoneButtons = document.querySelectorAll('#step3 .zone-btn .font-semibold');
            if (step3ZoneButtons.length >= 4) {
                step3ZoneButtons[0].textContent = t.north;
                step3ZoneButtons[1].textContent = t.central;
                step3ZoneButtons[2].textContent = t.northeast;
                step3ZoneButtons[3].textContent = t.south;
            }
            
            // Update step 4
            const step4Title = document.querySelector('#step4 h2');
            if (step4Title) step4Title.textContent = t.selectDestinationProvince;
            
            // Update step 5
            const step5Title = document.querySelector('#step5 h2');
            if (step5Title) step5Title.textContent = t.selectTicketType;
            
            const oneWayBtn = document.querySelector('#step5 .font-semibold');
            if (oneWayBtn) oneWayBtn.textContent = t.oneWay;
            
            const roundTripBtn = document.querySelectorAll('#step5 .font-semibold')[1];
            if (roundTripBtn) roundTripBtn.textContent = t.roundTrip;
            
            // Update step 6
            const step6Title = document.querySelector('#step6 h2');
            if (step6Title) step6Title.textContent = t.selectTravelDate;
            
            const departureLabel = document.querySelector('#step6 label[for="departure-date"]');
            if (departureLabel) departureLabel.textContent = t.departureDate;
            
            const returnLabel = document.querySelector('#step6 label[for="return-date"]');
            if (returnLabel) returnLabel.textContent = t.returnDate;
            
            const continueBtn = document.querySelector('#step6 .btn-primary');
            if (continueBtn) continueBtn.textContent = t.continue;
            
            // Update step 7
            const step7Title = document.querySelector('#step7 h2');
            if (step7Title) step7Title.textContent = t.selectTravelTime;
            
            const pickupDisplay = document.getElementById('pickup-display');
            if (pickupDisplay) pickupDisplay.textContent = currentLanguage === 'th' ? '‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï' : 'Mo Chit';
            
            const passengerCountTitle = document.querySelector('#step7 h3');
            if (passengerCountTitle) passengerCountTitle.textContent = t.passengerCount;
            
            const passengerCountDesc = document.querySelector('#step7 p');
            if (passengerCountDesc) passengerCountDesc.textContent = t.selectPassengerCount;
            
            // Update step 8
            const step8Title = document.querySelector('#step8 h2');
            if (step8Title) step8Title.textContent = t.selectSeats;
            
            const driverText = document.querySelector('#step8 .bg-gray-800');
            if (driverText) driverText.textContent = `üöó ${t.driver}`;
            
            const allSeatsText = document.querySelector('#step8 .bg-blue-100');
            if (allSeatsText) allSeatsText.textContent = `üéØ ${t.allSeats}`;
            
            const confirmSeatsBtn = document.getElementById('confirm-seats-btn');
            if (confirmSeatsBtn) confirmSeatsBtn.textContent = t.confirmSeats;
            
            // Update step 9
            const step9Title = document.querySelector('#step9 h2');
            if (step9Title) step9Title.textContent = t.passengerInfo;
            
            // Update step 10
            const step10Title = document.querySelector('#step10 h2');
            if (step10Title) step10Title.textContent = t.payment;
            
            const totalAmountText = document.querySelector('#step10 p');
            if (totalAmountText) totalAmountText.textContent = t.totalAmount;
            
            const bankInfoTitle = document.querySelector('#step10 h3');
            if (bankInfoTitle) bankInfoTitle.textContent = t.bankInfo;
            
            const confirmPaymentBtn = document.getElementById('confirm-payment-btn');
            if (confirmPaymentBtn) confirmPaymentBtn.textContent = t.confirmPayment;
            
            // Update step 11
            const step11Title = document.querySelector('#step11 h2');
            if (step11Title) step11Title.textContent = t.bookingSuccess;
            
            const thankYouText = document.querySelector('#step11 p');
            if (thankYouText) thankYouText.textContent = t.thankYou;
            
            const saveTicketBtn = document.querySelector('#step11 .bg-blue-600 span');
            if (saveTicketBtn) saveTicketBtn.textContent = t.saveTicket;
            
            const buyNewBtn = document.querySelector('#step11 .bg-gray-600 span');
            if (buyNewBtn) buyNewBtn.textContent = t.buyNew;
        }

        // Close language menu when clicking outside
        document.addEventListener('click', function(event) {
            const languageMenu = document.getElementById('language-menu');
            const languageButton = event.target.closest('[onclick="toggleLanguageMenu()"]');
            
            if (!languageButton && !languageMenu.contains(event.target)) {
                languageMenu.classList.add('hidden');
            }
        });

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading screen after animation
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                initAuth();
                showStep(1);
            }, 3000);
        });

        // Copy Account Number Function
        function copyAccountNumber() {
            const accountNumber = document.getElementById('account-number').textContent;
            
            // Try to use the modern clipboard API
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(accountNumber).then(() => {
                    showCopySuccess();
                }).catch(() => {
                    fallbackCopyTextToClipboard(accountNumber);
                });
            } else {
                // Fallback for older browsers
                fallbackCopyTextToClipboard(accountNumber);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            textArea.style.opacity = "0";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess();
            } catch (err) {
                showCustomAlert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á', 'warning');
            }
            
            document.body.removeChild(textArea);
        }

        function showCopySuccess() {
            // Create temporary success message
            const copyButton = document.querySelector('[onclick="copyAccountNumber()"]');
            const originalContent = copyButton.innerHTML;
            
            copyButton.innerHTML = `
                <div>
                    <span class="text-sm text-gray-600">${currentLanguage === 'th' ? '‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:' : 'Account Number:'}</span>
                    <span class="font-bold text-xl text-blue-600 ml-2">4400533990</span>
                </div>
                <div class="flex items-center space-x-2">
                    <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span class="text-sm text-green-600 font-medium">${translations[currentLanguage].copied}</span>
                </div>
            `;
            
            copyButton.classList.remove('border-gray-300', 'hover:border-blue-400');
            copyButton.classList.add('border-green-400', 'bg-green-50');
            
            setTimeout(() => {
                copyButton.innerHTML = originalContent;
                copyButton.classList.remove('border-green-400', 'bg-green-50');
                copyButton.classList.add('border-gray-300', 'hover:border-blue-400');
            }, 2000);
        }

        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            if (seatListener) {
                seatListener();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97f4b3cc06b62dd4',t:'MTc1NzkwMzQyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
